<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>User Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --ink: #0f172a;
    --muted: #5b6473;
    --brand: #0f766e;
    --bg: #f4f7fb;
    --card: #ffffff;
    --stroke: #e2e8f0;
}

body {
    background:
        radial-gradient(700px 300px at 90% -10%, #e8f4f3 0%, transparent 60%),
        linear-gradient(180deg, #f8fafc, var(--bg));
    font-family: "Space Grotesk", sans-serif;
    color: var(--ink);
}

.topbar {
    background: var(--card);
    border: 1px solid var(--stroke);
    border-radius: 14px;
    padding: 16px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 10px 30px rgba(15, 23, 42, 0.05);
    animation: liftIn 600ms ease forwards;
}

@keyframes liftIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.card {
    border-radius: 16px;
    border: 1px solid var(--stroke);
}

.table thead th {
    background: #f8fafc;
    border-bottom: 1px solid var(--stroke);
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.6px;
}
</style>
</head>
<body class="container py-4">

<div class="topbar mb-4">
    <div>
        <h3 class="mb-1">User Dashboard</h3>
        <div class="text-muted">Raise tickets and track SLA progress in one place.</div>
    </div>
    <a href="/logout" class="btn btn-outline-secondary">
        <i class="bi bi-box-arrow-right me-1"></i> Logout
    </a>
</div>

<form method="post" action="/raise_ticket" class="card p-3 shadow-sm mb-4">
  <h6 class="mb-3">Raise a New Ticket</h6>
  <input name="title" class="form-control mb-2" placeholder="Title" required>
  <textarea name="description" class="form-control mb-2" placeholder="Description" required></textarea>
  <input name="sla_hours" type="number" step="0.01" class="form-control mb-3" placeholder="SLA Hours" required>
  <button class="btn btn-success">
      <i class="bi bi-plus-circle me-1"></i> Raise Ticket
  </button>
</form>

<div class="card p-3 shadow-sm">
<h6 class="mb-3">My Tickets</h6>
<table class="table table-bordered">
<tr><th>Title</th><th>Status</th><th>SLA Status</th></tr>
{% for t in tickets %}
<tr>
  <td>{{ t.title }}</td>
  <td>{{ t.status }}</td>
  <td>{{ t.sla_status or "IN PROGRESS" }}</td>
</tr>
{% endfor %}
</table>
</div>

</body>
</html>
